# 汽车投诉爬虫

一个用于抓取车质网（12365auto.com）汽车投诉数据的 Python 命令行工具。

## 功能特点

- 支持按品牌抓取投诉数据
- 支持自定义抓取页数
- 自动导出为 CSV 格式
- 包含完整的投诉信息（编号、品牌、车系、车型、问题简述、时间、状态等）

## 环境要求

- Python 3.10+
- [uv](https://github.com/astral-sh/uv) 包管理器

## 安装

```bash
# 安装依赖
uv sync
```

## 使用方法

### 1. 查看帮助

```bash
uv run chezhiw.py --help
```

### 2. 列出所有可用品牌

```bash
uv run chezhiw.py --brands
```

输出示例：
```
品牌ID | 品牌名称
---------------------
     1 | 北京奔驰
     4 | 一汽-大众
     8 | 东风日产
    19 | 上汽大众
    26  | 一汽奥迪
   140  | 吉利汽车
```

### 3. 抓取投诉数据

#### 抓取全部品牌（默认5页）

```bash
uv run chezhiw.py
```

#### 抓取全部品牌10页

```bash
uv run chezhiw.py --pages 10
```

#### 抓取指定品牌

```bash
# 抓取吉利汽车（品牌ID=140）
uv run chezhiw.py --brand 140

# 抓取一汽-大众（品牌ID=4）20页
uv run chezhiw.py --brand 4 --pages 20
```

## 命令行参数

| 参数 | 说明 |
|------|------|
| `--brands` | 列出所有可用品牌及其ID |
| `--brand ID` | 指定品牌ID进行查询（0=全部品牌，默认：0） |
| `--pages N` | 抓取页数（默认：5） |

## 输出文件

数据会保存到 `complaints.csv`，包含以下字段：

| 字段 | 说明 |
|------|------|
| 投诉编号 | 唯一投诉ID |
| 投诉品牌 | 汽车品牌 |
| 投诉车系 | 具体车系 |
| 投诉车型 | 年款和配置 |
| 问题简述 | 投诉问题概述 |
| 典型问题 | 典型问题标签 |
| 投诉时间 | 投诉提交时间 |
| 投诉状态 | 处理状态 |
| 详情链接 | 投诉详情页URL |

## 常见品牌ID参考

```
品牌ID  | 品牌名称
--------|------------------
 0      | 全部品牌
 1      | 北京奔驰
 4      | 一汽-大众
 8      | 东风日产
 12     | 一汽-大众捷达
 15     | 一汽丰田
 19     | 上汽大众
 26     | 一汽奥迪
 43     | 广汽本田
  58     | 一汽马自达
 63     | 一汽本田
 68     | 长安马自达
 140    | 吉利汽车
```

> 💡 提示：运行 `uv run chezhiw.py --brands` 可以获取完整的品牌列表

## 注意事项

1. 请遵守网站的 robots.txt 协议
2. 建议在抓取时添加适当的延迟，避免对服务器造成过大压力
3. 此工具仅供学习交流使用
4. 数据来源于车质网，请勿用于商业用途

## 技术栈

- Python 3.10+
- requests - HTTP 请求
- BeautifulSoup4 - HTML 解析
- lxml - 解析器
- argparse - 命令行参数解析
- uv - 包管理器

## License

MIT License
